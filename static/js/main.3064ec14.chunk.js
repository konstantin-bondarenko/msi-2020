(this["webpackJsonpchucks-jokes"]=this["webpackJsonpchucks-jokes"]||[]).push([[0],[,function(e,t,a){e.exports={Main:"MainScreen_Main__14pCk",Header:"MainScreen_Header__2v-0s",ToggleFavourite:"MainScreen_ToggleFavourite__2K7zs",Screen:"MainScreen_Screen__1Tsj6",Inputs:"MainScreen_Inputs__2ZwqL",InputsLabel:"MainScreen_InputsLabel__3GRpR",Btn:"MainScreen_Btn__3bVbG",Btns:"MainScreen_Btns__1BHMm",Search:"MainScreen_Search__2k47v",SearchInput:"MainScreen_SearchInput__399s4",Buttons:"MainScreen_Buttons__1oElP",Favorite:"MainScreen_Favorite__dYuwu"}},function(e,t,a){e.exports={Container:"JokeBox_Container__2k_2k",Heart:"JokeBox_Heart__1dv1n",Liked:"JokeBox_Liked__3pErB",LinkIcon:"JokeBox_LinkIcon__2nt2J",Icon:"JokeBox_Icon__3ZsvK",Content:"JokeBox_Content__3Vgi3",ContainerJoke:"JokeBox_ContainerJoke__1bhT3",Joke:"JokeBox_Joke__3E5bj",Link:"JokeBox_Link__bfiJX",Update:"JokeBox_Update__3KIHa"}},function(e,t,a){e.exports={Favorite:"Favorite_Favorite__15PcQ",FavoriteContent:"Favorite_FavoriteContent__3wPft",FavoriteJoke:"Favorite_FavoriteJoke__mxfMC",FJoke:"Favorite_FJoke__1PkY-",Heart:"Favorite_Heart__3oXQr",Icon:"Favorite_Icon__2_0rN",LinkIcon:"Favorite_LinkIcon__1u0sa",Link:"Favorite_Link__1QWTM",Update:"Favorite_Update__2RBNi"}},,,,,function(e,t,a){e.exports={SideDrawer:"SideDrawer_SideDrawer__2tmxU",Toggle:"SideDrawer_Toggle__eAIh_",Open:"SideDrawer_Open__2vP2M",Closed:"SideDrawer_Closed__1Ynug"}},,function(e,t,a){e.exports={DrawerToggle:"drawerToggle_DrawerToggle__2sXb3",Left:"drawerToggle_Left__G7yp1",Right:"drawerToggle_Right__2034j"}},,,function(e,t,a){e.exports={Backdrop:"Backdrop_Backdrop__zFzWk"}},function(e,t,a){e.exports={Category:"Category_Category__1A_cZ"}},function(e,t,a){e.exports=a(21)},,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(12),i=a.n(o),c=(a(20),a(4)),l=a(5),s=a(7),u=a(6),d=a(8),m=a.n(d),h=a(13),p=a.n(h),v=function(e){return e.show?r.a.createElement("div",{className:p.a.Backdrop,onClick:e.clicked}):null},g=a(3),_=a.n(g),k=function(e){return r.a.createElement(r.a.Fragment,null,e.temp.map((function(t){var a=Math.floor((Date.now()-new Date(t.updated_at).getTime())/1e3/60/60);return r.a.createElement("div",{className:_.a.Favorite,key:t.id},r.a.createElement("div",{className:_.a.Heart,onClick:function(){return e.delete(t.id)}}),r.a.createElement("div",{className:_.a.FavoriteContent},r.a.createElement("div",{className:_.a.Icon}),r.a.createElement("div",{className:_.a.FavoriteJoke},r.a.createElement("div",{className:_.a.Link},"ID: ",r.a.createElement("a",{href:t.url},t.id,r.a.createElement("div",{className:_.a.LinkIcon}))),r.a.createElement("div",{className:_.a.FJoke},t.value),r.a.createElement("div",{className:_.a.Update},r.a.createElement("span",null,"Last update: ",a," hours ago")))))})))},f=a(10),E=a.n(f),S=function(e){return r.a.createElement("div",{className:E.a.DrawerToggle,onClick:e.clicked},e.show?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:E.a.Left}),r.a.createElement("div",{className:E.a.Right})):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null),r.a.createElement("div",null)))},w=function(e){var t=[m.a.SideDrawer,m.a.Closed];return e.open&&(t=[m.a.SideDrawer,m.a.Open]),r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{show:e.open,clicked:e.closed}),r.a.createElement("div",{className:t.join(" ")},r.a.createElement("div",{className:m.a.Toggle},r.a.createElement(S,{clicked:e.clicked,show:e.open}),r.a.createElement("span",null,"Favourite")),r.a.createElement(k,{temp:e.temp,delete:e.delete})))},F=a(9),N=a(2),y=a.n(N),C=function(e){var t=[y.a.Heart];return e.data.filter((function(e){return e.like})).length&&t.push(y.a.Liked),Object(n.useEffect)((function(){var t=e.data.filter((function(e){return e.like}));console.log("JokeBox, props.data.value: ",t)}),[e.data]),r.a.createElement(r.a.Fragment,null,e.data.map((function(a){var n=Math.floor((Date.now()-new Date(a.updated_at).getTime())/1e3/60/60);return r.a.createElement("div",{className:y.a.Container,key:a.id},r.a.createElement("div",{className:t.join(" "),onClick:function(){return e.getLike(a.id,a)}}),r.a.createElement("div",{className:y.a.Content},r.a.createElement("div",{className:y.a.Icon}),r.a.createElement("div",{className:y.a.ContainerJoke},r.a.createElement("div",{className:y.a.Link},"ID: ",r.a.createElement("a",{href:a.url},a.id,r.a.createElement("div",{className:y.a.LinkIcon}))),r.a.createElement("div",{className:y.a.Joke},a.value),r.a.createElement("div",{className:y.a.Update},r.a.createElement("span",null,"Last update: ",n," hours ago"),r.a.createElement("button",null,a.categories.length?a.categories:"random")))))})))},b=a(14),I=a.n(b),J=function(e){return r.a.createElement("div",{className:I.a.Category},r.a.createElement("input",{type:"radio",id:e.name,name:"categories",value:e.name}),r.a.createElement("label",{htmlFor:e.name},e.name))},j=a(1),L=a.n(j),O=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={data:[],temp:[],category:[],like:!1,url:"https://api.chucknorris.io/jokes/",path:"random",search:!1,categories:!1,popup:!1,showSideDrawer:!1},e.getJokeHandler=function(){e.state.search?e.setState({like:!1,popup:!1,search:!1,data:[],path:"random"},(function(){fetch(e.state.url+"random").then((function(e){return e.json()})).then((function(t){return e.setState({data:[Object(F.a)({},t)]})}))})):e.setState({like:!1},e.getFetch())},e.onInputChange=function(t){switch(t.target.value){case"random":return e.setState({path:t.target.value,search:!1,categories:!1});case"categories":return e.setState({categories:!0,search:!1});case"search":return e.setState({search:!0,categories:!1});default:return e.state.path}},e.onInputChangeCategory=function(t){var a=t.target.value;return e.setState({path:"random?category=".concat(a)},(function(){fetch(e.state.url+"random?category=".concat(a)).then((function(e){return e.json()})).then((function(t){return e.setState({data:[Object(F.a)({},t)]})}))}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getFetch(),this.getCategoriesFetch();var e=localStorage.getItem("favorites")||JSON.stringify([]);this.setState({temp:JSON.parse(e)})}},{key:"getFetch",value:function(){var e=this;fetch(this.state.url+this.state.path).then((function(e){return e.json()})).then((function(t){console.log("Fetchdata: ",t),e.setState({data:[Object(F.a)({},t,{like:!1})]},(function(){return console.log("data after like",e.state.data)}))}))}},{key:"getCategoriesFetch",value:function(){var e=this;fetch(this.state.url+"categories").then((function(e){return e.json()})).then((function(t){return e.setState({category:t})}))}},{key:"getSearchFetch",value:function(){var e=this;fetch(this.state.url+this.state.path).then((function(e){return e.json()})).then((function(t){var a=e.state.data;for(var n in t.result)a.push(Object(F.a)({},t.result[n]));e.setState({data:a})}))}},{key:"onSearchInputChange",value:function(e){var t=e.target.value;if(t.length>3){var a=this.state.temp.filter((function(e){return e.value.includes(t)}));this.setState({data:a,path:"search?query=".concat(t.toLowerCase()),popup:!0},this.getSearchFetch())}else this.setState({data:[]})}},{key:"render",value:function(){var e=this,t=r.a.createElement(C,Object.assign({},this.state,{like:this.props.like,getLike:this.props.likeHandler}));this.state.popup&&(t=this.state.data?this.state.data.slice(0,5).map((function(t){return r.a.createElement(C,{data:[t],like:e.props.like,getLike:e.props.likeHandler,key:t.id})})):r.a.createElement("p",null,"Loading..."));var a="",n="";return this.state.search&&(a=r.a.createElement("div",null,r.a.createElement("input",{className:L.a.SearchInput,type:"text",placeholder:"Free text search...",onChange:function(t){return e.onSearchInputChange(t)}}))),this.state.categories&&(n=r.a.createElement("div",{className:L.a.Btns,onChange:function(t){return e.onInputChangeCategory(t)}},this.state.category.map((function(e,t){return r.a.createElement(J,{name:e,key:t})})))),r.a.createElement("div",{className:L.a.Main},r.a.createElement("div",{className:L.a.Screen},r.a.createElement("div",{className:L.a.Header},r.a.createElement("h3",null,"MSI 2020"),r.a.createElement("div",{className:L.a.ToggleFavourite},r.a.createElement(S,{clicked:this.props.clicked}),r.a.createElement("span",null,"Favourite"))),r.a.createElement("h1",null,"Hey!"),r.a.createElement("p",{style:{fontWeight:"bold"}},"Let's try to find a joke for you:"),r.a.createElement("div",{className:L.a.Inputs,onChange:function(t){return e.onInputChange(t)}},r.a.createElement("div",null,r.a.createElement("input",{type:"radio",name:"site",value:"random",id:"random",defaultChecked:!0}),r.a.createElement("label",{className:L.a.InputsLabel,htmlFor:"random"},"Random")),r.a.createElement("div",null,r.a.createElement("input",{type:"radio",name:"site",value:"categories",id:"categories"}),r.a.createElement("label",{className:L.a.InputsLabel,htmlFor:"categories"},"From categories"),n),r.a.createElement("div",{className:L.a.Search},r.a.createElement("div",null,r.a.createElement("input",{type:"radio",name:"site",value:"search",id:"search"}),r.a.createElement("label",{className:L.a.InputsLabel,htmlFor:"search"},"Search")),a)),r.a.createElement("div",{className:L.a.Buttons},r.a.createElement("button",{className:L.a.Btn,onClick:this.getJokeHandler},"Get Chuck Joke")),t),r.a.createElement("div",{className:L.a.Favorite},r.a.createElement("p",null,"Favourite"),r.a.createElement(k,Object.assign({},this.props,{delete:this.props.deleteHandler}))))}}]),a}(n.Component),D=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={showSideDrawer:!1,temp:[],like:!1},e.likeHandler=function(t,a){if(e.state.like){e.setState({like:!e.state.like});var n=a;n.like=!1,e.setState({temp:n});var r=e.state.temp.filter((function(e){return e.id!==t}));e.setState({temp:r}),localStorage.setItem("favorites",JSON.stringify(r))}else{e.setState({like:!e.state.like});var o=a;o.like=!0,e.state.temp.push(o),localStorage.setItem("favorites",JSON.stringify(e.state.temp))}},e.deleteHandler=function(t){var a=e.state.temp.filter((function(e){return e.id!==t}));e.setState({temp:a}),localStorage.setItem("favorites",JSON.stringify(a))},e.sideDrawerClosedHandler=function(){e.setState({showSideDrawer:!1})},e.sideDrawerToggleHandler=function(){e.setState((function(e){return{showSideDrawer:!e.showSideDrawer}}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("favorites")||JSON.stringify([]);this.setState({temp:JSON.parse(e)})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(w,Object.assign({open:this.state.showSideDrawer,delete:this.deleteHandler,closed:this.sideDrawerClosedHandler,clicked:this.sideDrawerToggleHandler},this.state)),r.a.createElement("main",null,r.a.createElement(O,Object.assign({clicked:this.sideDrawerToggleHandler,likeHandler:this.likeHandler,deleteHandler:this.deleteHandler},this.state))))}}]),a}(n.Component),B=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(D,null)}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[15,1,2]]]);
//# sourceMappingURL=main.3064ec14.chunk.js.map