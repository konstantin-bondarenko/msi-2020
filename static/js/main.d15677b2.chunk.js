(this["webpackJsonpchucks-jokes"]=this["webpackJsonpchucks-jokes"]||[]).push([[0],[,function(e,t,a){e.exports={Main:"MainScreen_Main__14pCk",Header:"MainScreen_Header__2v-0s",ToggleFavourite:"MainScreen_ToggleFavourite__2K7zs",Screen:"MainScreen_Screen__1Tsj6",Inputs:"MainScreen_Inputs__2ZwqL",InputsLabel:"MainScreen_InputsLabel__3GRpR",Btn:"MainScreen_Btn__3bVbG",Btns:"MainScreen_Btns__1BHMm",Search:"MainScreen_Search__2k47v",SearchInput:"MainScreen_SearchInput__399s4",Buttons:"MainScreen_Buttons__1oElP",Favorite:"MainScreen_Favorite__dYuwu"}},function(e,t,a){e.exports={Container:"JokeBox_Container__2k_2k",Heart:"JokeBox_Heart__1dv1n",Liked:"JokeBox_Liked__3pErB",LinkIcon:"JokeBox_LinkIcon__2nt2J",Icon:"JokeBox_Icon__3ZsvK",Content:"JokeBox_Content__3Vgi3",ContainerJoke:"JokeBox_ContainerJoke__1bhT3",Joke:"JokeBox_Joke__3E5bj",Link:"JokeBox_Link__bfiJX",Update:"JokeBox_Update__3KIHa"}},function(e,t,a){e.exports={Favorite:"Favorite_Favorite__15PcQ",FavoriteContent:"Favorite_FavoriteContent__3wPft",FavoriteJoke:"Favorite_FavoriteJoke__mxfMC",FJoke:"Favorite_FJoke__1PkY-",Heart:"Favorite_Heart__3oXQr",Icon:"Favorite_Icon__2_0rN",LinkIcon:"Favorite_LinkIcon__1u0sa",Link:"Favorite_Link__1QWTM",Update:"Favorite_Update__2RBNi"}},,,,,function(e,t,a){e.exports={SideDrawer:"SideDrawer_SideDrawer__2tmxU",Toggle:"SideDrawer_Toggle__eAIh_",Open:"SideDrawer_Open__2vP2M",Closed:"SideDrawer_Closed__1Ynug"}},function(e,t,a){e.exports={DrawerToggle:"drawerToggle_DrawerToggle__2sXb3",Left:"drawerToggle_Left__G7yp1",Right:"drawerToggle_Right__2034j"}},,,,function(e,t,a){e.exports={Backdrop:"Backdrop_Backdrop__zFzWk"}},function(e,t,a){e.exports={Category:"Category_Category__1A_cZ"}},function(e,t,a){e.exports={Warning:"Warning_Warning__1Kq-O"}},function(e,t,a){e.exports=a(22)},,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(12),o=a.n(i),c=(a(21),a(4)),s=a(5),l=a(7),u=a(6),d=a(10),m=a(8),p=a.n(m),h=a(13),g=a.n(h),_=function(e){return e.show?r.a.createElement("div",{className:g.a.Backdrop,onClick:e.clicked}):null},v=a(3),k=a.n(v),f=function(e){return r.a.createElement(r.a.Fragment,null,e.temp.map((function(t){var a=new Date,n=new Date(t.updated_at.replace(/-/g,"/").replace("T"," ").replace(/\..*|\+.*/,"")),i=Math.round((a.getTime()-n.getTime())/36e5);return r.a.createElement("div",{className:k.a.Favorite,key:t.id},r.a.createElement("div",{className:k.a.Heart,onClick:function(){return e.delete(t.id,t)}}),r.a.createElement("div",{className:k.a.FavoriteContent},r.a.createElement("div",{className:k.a.Icon}),r.a.createElement("div",{className:k.a.FavoriteJoke},r.a.createElement("div",{className:k.a.Link},"ID: ",r.a.createElement("a",{href:t.url},t.id,r.a.createElement("div",{className:k.a.LinkIcon}))),r.a.createElement("div",{className:k.a.FJoke},t.value),r.a.createElement("div",{className:k.a.Update},r.a.createElement("span",null,"Last update: ",i," hours ago")))))})))},E=a(9),S=a.n(E),w=function(e){return r.a.createElement("div",{className:S.a.DrawerToggle,onClick:e.clicked},e.show?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:S.a.Left}),r.a.createElement("div",{className:S.a.Right})):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null),r.a.createElement("div",null)))},C=function(e){var t=[p.a.SideDrawer,p.a.Closed];return e.open&&(t=[p.a.SideDrawer,p.a.Open]),r.a.createElement(r.a.Fragment,null,r.a.createElement(_,{show:e.open,clicked:e.closed}),r.a.createElement("div",{className:t.join(" ")},r.a.createElement("div",{className:p.a.Toggle},r.a.createElement(w,{clicked:e.clicked,show:e.open}),r.a.createElement("span",null,"Favourite")),r.a.createElement(f,{temp:e.temp,delete:e.delete})))},F=a(2),N=a.n(F),I=function(e){var t=[N.a.Heart];return e.data.filter((function(e){return e.like})).length&&t.push(N.a.Liked),r.a.createElement(r.a.Fragment,null,e.data.map((function(a){var n=new Date,i=new Date(a.updated_at.replace(/-/g,"/").replace("T"," ").replace(/\..*|\+.*/,"")),o=Math.round((n.getTime()-i.getTime())/36e5);return r.a.createElement("div",{className:N.a.Container,key:a.id},r.a.createElement("div",{className:t.join(" "),onClick:function(){return e.getLike(a.id,a)}}),r.a.createElement("div",{className:N.a.Content},r.a.createElement("div",{className:N.a.Icon}),r.a.createElement("div",{className:N.a.ContainerJoke},r.a.createElement("div",{className:N.a.Link},"ID: ",r.a.createElement("a",{href:a.url},a.id,r.a.createElement("div",{className:N.a.LinkIcon}))),r.a.createElement("div",{className:N.a.Joke},a.value),r.a.createElement("div",{className:N.a.Update},r.a.createElement("span",null,"Last update: ",o," hours ago"),r.a.createElement("button",null,a.categories.length?a.categories:"random"),"                            "))))})))},y=a(14),b=a.n(y),J=function(e){return r.a.createElement("div",{className:b.a.Category},r.a.createElement("input",{type:"radio",id:e.name,name:"categories",value:e.name}),r.a.createElement("label",{htmlFor:e.name},e.name))},L=a(15),H=a.n(L),j=function(e){return r.a.createElement("div",{className:H.a.Warning},r.a.createElement("p",null,e.text))},O=a(1),T=a.n(O),x=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=r.a.createElement(I,{data:this.props.data,like:this.props.like,getLike:this.props.likeHandler});this.props.popup&&(t=this.props.data?this.props.data.map((function(t){return r.a.createElement(I,{data:[t],like:e.props.like,getLike:e.props.likeHandler,key:t.id})})):r.a.createElement("p",null,"Loading..."));var a="",n="";return this.props.search&&(a=r.a.createElement("div",null,this.props.warning?r.a.createElement(j,{text:"Enter at least 3 letters!"}):"",r.a.createElement("input",{className:T.a.SearchInput,type:"text",placeholder:"Free text search...",onChange:function(t){return e.props.onInputChangeSearch(t)}}))),this.props.categories&&(n=r.a.createElement("div",{className:T.a.Btns,onChange:function(t){return e.props.onInputChangeCategory(t)}},this.props.category.map((function(e,t){return r.a.createElement(J,{name:e,key:t})})))),r.a.createElement("div",{className:T.a.Main},r.a.createElement("div",{className:T.a.Screen},r.a.createElement("div",{className:T.a.Header},r.a.createElement("h3",null,"MSI 2020"),r.a.createElement("div",{className:T.a.ToggleFavourite},r.a.createElement(w,{clicked:this.props.clicked}),r.a.createElement("span",null,"Favourite"))),r.a.createElement("h1",null,"Hey!"),r.a.createElement("p",{style:{fontWeight:"bold"}},"Let's try to find a joke for you:"),r.a.createElement("div",{className:T.a.Inputs,onChange:function(t){return e.props.onInputChange(t)}},r.a.createElement("div",null,r.a.createElement("input",{type:"radio",name:"site",value:"random",id:"random",defaultChecked:!0}),r.a.createElement("label",{className:T.a.InputsLabel,htmlFor:"random"},"Random")),r.a.createElement("div",null,r.a.createElement("input",{type:"radio",name:"site",value:"categories",id:"categories"}),r.a.createElement("label",{className:T.a.InputsLabel,htmlFor:"categories"},"From categories"),this.props.categories&&this.props.warning?r.a.createElement(j,{text:"Choose one of these categories"}):"",n),r.a.createElement("div",{className:T.a.Search},r.a.createElement("div",null,r.a.createElement("input",{type:"radio",name:"site",value:"search",id:"search"}),r.a.createElement("label",{className:T.a.InputsLabel,htmlFor:"search"},"Search")),a)),r.a.createElement("div",{className:T.a.Buttons},r.a.createElement("button",{className:T.a.Btn,onClick:this.props.getJokeHandler},"Get Chuck Joke")),t),r.a.createElement("div",{className:T.a.Favorite},r.a.createElement("p",null,"Favourite"),r.a.createElement(f,Object.assign({},this.props,{delete:this.props.deleteHandler}))))}}]),a}(n.Component),B=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={showSideDrawer:!1,data:[],temp:[],category:[],matchUp:[],url:"https://api.chucknorris.io/jokes/",path:"random",search:!1,categories:!1,popup:!1,like:!1,warning:!1,active:!1,words:""},e.getJokeHandler=function(){if(e.state.search)return e.state.words.length<3?(e.setState({data:[]}),e.warningToggle()):e.setState({data:[]},e.getSearchFetch());e.state.categories&&!e.state.active?e.warningToggle():e.getFetch()},e.onInputChange=function(t){switch(t.target.value){case"random":return e.setState({path:t.target.value,search:!1,categories:!1,active:!1,words:""});case"categories":return e.setState({categories:!0,search:!1,words:""});case"search":return e.setState({search:!0,categories:!1,active:!1});default:return e.state.path}},e.onInputChangeCategory=function(t){var a=t.target.value;return e.setState({path:"random?category=".concat(a),active:!0})},e.onInputChangeSearch=function(t){var a=t.target.value.toLowerCase();if(a.length>=3&&e.state.search){var n=e.state.temp.filter((function(e){return e.value.toLowerCase().includes(a)}));e.setState({matchUp:n,path:"search?query=".concat(a),popup:!0,words:a},e.getSearchFetch())}else e.setState({data:[],popup:!1,path:"random",words:a})},e.likeHandler=function(t,a){e.state.data.forEach((function(n){if(n.id===t)if(n.like){a.like=!1,e.setState({temp:a});var r=e.state.temp.filter((function(e){return e.id!==t}));e.setState({temp:r,like:!e.state.like}),localStorage.setItem("favorites",JSON.stringify(r))}else e.setState({like:!e.state.like}),setTimeout((function(){e.setState({like:!e.state.like})}),500),a.like=!0,e.state.temp.push(a),localStorage.setItem("favorites",JSON.stringify(e.state.temp))}))},e.deleteHandler=function(t,a){a.like=!1,e.setState({temp:a});var n=e.state.temp.filter((function(e){return e.id!==t}));e.setState({temp:n}),localStorage.setItem("favorites",JSON.stringify(n))},e.sideDrawerClosedHandler=function(){e.setState({showSideDrawer:!1})},e.sideDrawerToggleHandler=function(){e.setState((function(e){return{showSideDrawer:!e.showSideDrawer}}))},e.warningToggle=function(){e.setState({warning:!0}),setTimeout((function(){return e.setState({warning:!1})}),1e3)},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getFetch(),this.getCategoriesFetch();var e=localStorage.getItem("favorites")||JSON.stringify([]);this.setState({temp:JSON.parse(e)})}},{key:"getFetch",value:function(){var e=this;fetch(this.state.url+this.state.path).then((function(e){return e.json()})).then((function(t){var a=[];e.state.temp.forEach((function(e){return a.push(e.id)})),-1===a.indexOf(t.id)?e.setState({data:[Object(d.a)({},t,{like:!1})],like:!1}):e.state.temp.map((function(t){return e.setState({data:[Object(d.a)({},t)]})}))}))}},{key:"getCategoriesFetch",value:function(){var e=this;fetch(this.state.url+"categories").then((function(e){return e.json()})).then((function(t){return e.setState({category:t})}))}},{key:"getSearchFetch",value:function(){var e=this;fetch(this.state.url+this.state.path).then((function(e){return e.json()})).then((function(t){var a=e.state.matchUp,n=[];for(var r in t.result)a.map((function(e){return n.push(e.id)})),-1===n.indexOf(t.result[r].id)&&a.length<10&&a.push(Object(d.a)({},t.result[r],{like:!1}));e.setState({data:a,like:!1})}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,Object.assign({open:this.state.showSideDrawer,delete:this.deleteHandler,closed:this.sideDrawerClosedHandler,clicked:this.sideDrawerToggleHandler},this.state)),r.a.createElement("main",null,r.a.createElement(x,Object.assign({onInputChangeSearch:this.onInputChangeSearch,onInputChangeCategory:this.onInputChangeCategory,onInputChange:this.onInputChange,getJokeHandler:this.getJokeHandler,clicked:this.sideDrawerToggleHandler,likeHandler:this.likeHandler,deleteHandler:this.deleteHandler},this.state))))}}]),a}(n.Component),D=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(B,null)}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[16,1,2]]]);
//# sourceMappingURL=main.d15677b2.chunk.js.map